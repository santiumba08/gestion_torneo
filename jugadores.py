jugadores = [
    {
        "nombre": "Dayro Moreno",
        "numero": 17,
        "posicion": "Delantero",
        "equipo": "once caldas",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Gerardo Ortiz",
        "numero": 12,
        "posicion": "Portero",
        "equipo": "once caldas",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Sebastián Guzmán",
        "numero": 8,
        "posicion": "Mediocampista",
        "equipo": "once caldas",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Alejandro García",
        "numero": 14,
        "posicion": "Mediocampista",
        "equipo": "once caldas",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Robert Mejía",
        "numero": 6,
        "posicion": "Mediocampista",
        "equipo": "once caldas",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Carlos Ramírez",
        "numero": 23,
        "posicion": "Defensor",
        "equipo": "deportivo pereira",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Leonardo Castro",
        "numero": 7,
        "posicion": "Delantero",
        "equipo": "deportivo pereira",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Jhonny Vásquez",
        "numero": 14,
        "posicion": "Mediocampista",
        "equipo": "deportivo pereira",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Harlen Castillo",
        "numero": 1,
        "posicion": "Portero",
        "equipo": "deportivo pereira",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Geisson Perea",
        "numero": 3,
        "posicion": "Defensor",
        "equipo": "deportivo pereira",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Andrés Mosquera",
        "numero": 22,
        "posicion": "Portero",
        "equipo": "independiente medellin",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Víctor Moreno",
        "numero": 5,
        "posicion": "Defensor",
        "equipo": "independiente medellin",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Edwin Cetré",
        "numero": 10,
        "posicion": "Delantero",
        "equipo": "independiente medellin",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Luciano Pons",
        "numero": 9,
        "posicion": "Delantero",
        "equipo": "independiente medellin",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Daniel Torres",
        "numero": 16,
        "posicion": "Mediocampista",
        "equipo": "independiente medellin",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Sebastián Viera",
        "numero": 1,
        "posicion": "Portero",
        "equipo": "junior",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Carlos Bacca",
        "numero": 70,
        "posicion": "Delantero",
        "equipo": "junior",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Luis González",
        "numero": 11,
        "posicion": "Mediocampista",
        "equipo": "junior",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Dany Rosero",
        "numero": 5,
        "posicion": "Defensor",
        "equipo": "junior",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Fredy Hinestroza",
        "numero": 8,
        "posicion": "Mediocampista",
        "equipo": "junior",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Diego Novoa",
        "numero": 1,
        "posicion": "Portero",
        "equipo": "america",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Adrián Ramos",
        "numero": 20,
        "posicion": "Delantero",
        "equipo": "america",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Carlos Sierra",
        "numero": 5,
        "posicion": "Mediocampista",
        "equipo": "america",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Cristian Arrieta",
        "numero": 4,
        "posicion": "Defensor",
        "equipo": "america",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    },
    {
        "nombre": "Daniel Hernández",
        "numero": 10,
        "posicion": "Mediocampista",
        "equipo": "america",
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    }
]

from equipos import equipos

def registrar_jugador(nombre, numero, posicion, equipo):
    """
    Esta funcion se utiliza para registrar un jugador nuevo, teniendo en cuenta validaciones como:
    -no puede existir dos jugadores con el mismo nuemro en el mismo equipo
    -no puede existir dos jugadores con el mismo nombre en el equipo
    -la posicion de estar permitida(delantero,mediocampista,defensa,portero)

    y tiene como parametros:
    nombre(str): nombre del nuevo jugador
    numero(int): numero que se le asiganra al jugador
    posicion(str):posicion del jugador
    equipo(str): equipo al que se va a agregar el jugador
    """    
    posiciones_permitidas = ["mediocampista", "portero", "delantero", "defensa"]

    if posicion.lower() not in posiciones_permitidas:   #verificar que la posicion este permitida
        print(f"error: La posición '{posicion}' no está permitida. Las posiciones permitidas son: {', '.join(posiciones_permitidas)}.")
        return

    equipo_encontrado = False 
    for eq in equipos:
        if eq["nombre"].lower() == equipo.lower(): # verificar que el equipo exista
            equipo_encontrado = True
            break
    
    if not equipo_encontrado:
        print(f"error: El equipo '{equipo}' no está registrado.")
        return

    for jugador in jugadores:
        if jugador["nombre"].lower() == nombre.lower() and jugador["equipo"].lower() == equipo.lower(): #verificar que el nombre no exista
            print(f"error: El jugador con nombre '{nombre}' ya existe en el equipo '{equipo}'.")
            return
        if jugador["numero"] == numero and jugador["equipo"].lower() == equipo.lower(): #verificar que el numero no exista
            print(f"error: El número '{numero}' ya está asignado a otro jugador en el equipo '{equipo}'.")
            return
        
    nuevo_jugador = {
        "nombre": nombre,
        "numero": numero,
        "posicion": posicion,
        "equipo": equipo,
        "estadisticas": {
            "partidos": 0,
            "goles": 0,
            "asistencias": 0
        }
    }  #nuevo diccionario para posteriormente agragar a la lista jugadores
    
    jugadores.append(nuevo_jugador)
    print(f"Jugador '{nombre}' registrado en el equipo '{equipo}' como '{posicion}' con el número '{numero}'.")



def buscar_jugador(criterio,valor):
    """
    Esta funcion se utiliza para buscar un jugador existente, teniendo en cuenta validaciones como:
    -el criterio debe ser su nombre

    y tiene como parametros:
    criterio(str): debe ser "nombre"
    valor(str): nombre del jugador a buscar
    """
    if criterio not in ["nombre"]:    #verificar que el criterio sea nombre
        print("Error: El criterio debe ser el 'nombre' ")
        return
    jugadores_encontrados = []   #lista vacia para poder agregar jugadores que coincidan con el valor
    for jugador in jugadores:
        if jugador[criterio].lower() == valor.lower(): #encontar jugadores con coincidencias con respecto a valor
            jugadores_encontrados.append(jugador)
    if jugadores_encontrados:
        print(f"jugador encontrado con el {criterio} '{valor}':")
        for jugador in jugadores_encontrados:
            print(f"nombre: {jugador['nombre']}, Numero: {jugador['numero']}, posicion: {jugador['posicion']}, equipo: {jugador['equipo']}")
    else:
        print(f"No se encontraron jugadores que coincidan con el {criterio} '{valor}'.")


def actualizar_estadisticas_jug(nombre, goles, asistencias):
    """
    Esta funcion se utiliza para actualizar las estadisticass de un jugador ya existente

    y tiene como parametros:
    nombre(str): nombre del jugador
    goles(str): goles a agregar
    asistencias(str): asistencias a agregar
    """
    jugador_encontrado = None   #inicia sion valor
    
    for jugador in jugadores:
        if jugador["nombre"].lower() == nombre.lower():   #encontar el jugador
            jugador_encontrado = jugador
            break
   
    if not jugador_encontrado:
        print(f"Jugador '{nombre}' no encontrado.")
        return
    
    est = jugador_encontrado["estadisticas"]      #agragar goles, asistencias a la lista estadisticas
    est["partidos"] += 1  
    est["goles"] += goles  
    est["asistencias"] += asistencias  
    
    print(f"Estadísticas actualizadas para '{nombre}': Partidos: {est['partidos']}, Goles: {est['goles']}, Asistencias: {est['asistencias']}.")
